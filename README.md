# IFCConverto
 Utility that can be used to convert IFC files to 3D models and Process Textfiles for parameterized data
 
## Table of Contents
1. [Project Description](##Project-Description)
2. [Utility Mode](##Utility-Mode)
3. [Features](##Features)
4. [System Requirements](##System-Requirements)
5. [Technologies Used](##Technologies-Used)
6. [Setup Guide](##Setup-Guide)
7. [Testing](##Testing)
8. [Release History](##Release-History)
9. [Attribution](##Attribution)

## Project Description
This repository contains source code for the desktop utility. The utility can perform conversion of the IFC files to 3D models and conversion of the textfiles to Json format. 

The utility was developed specifically for SQUIZZ as a result, it can only convert IFC files into .glb files. This behavior can be changed by editing the code if need arises. Moreover, the textfiles contain CSV data, so to cater for that we had to write custom parser as well. The data in the textfiles contain parameterized information for the 3D model.

This utility consumes the .dll file generated by [IFC Converto Library](https://github.com/ansabkhaliq/IFCConvertoLibrary) to function. A 32bit dll file was generated using the aforementioned library project and added to this repository. However, to get the 64bit version dll, you will need to clone the aforementioned project, build it and then add the dll into this project.

## Utility Mode
### Offline Mode
In the offline mode, you can use the utility to convert the IFC files and Textfiles and store them locally on your hardrive.

### Online Mode
In the online mode, you can use the utility to convert the IFC files and Textfiles and store them locally as well as send the converted IFC files and textfiles to your API Endpoint. Moreover, for the converted models (.glb files), you can enter the S3 bucket details in the utility settings and it will upload the converted models to your S3 bucket and send the links to these models to your API endpoint.

The JSON sent from utility to the API after converting the textfiles is as follows:
```{
    "Username": "your-username",
    "Password": "your-password",
    "Products": [
        {
            "Code": "xyz-12",
            "ProductParameters": [{
                "Key": "Name",
                "Value": "xyz-12 Diffusers"
            }, {
              ...
            },
            ]
        },{
        ...
        }
      ]
    }
 ```
 
 Whereas the JSON sent from utility to the API after converting the models and uploading them to S3 bucket is as follows:
```
  {"Username": "your-username",
        "Password": "your-password",
        "Products": [{
            "Code": "xyz-12",
            "ProductParameters": null,
            "ModelURL": "xyz-12.glb"
        },{
        ...
        }]
  }
```
## Features
* Bulk convert IFC files into .glb files
* Bulk convert Textfiles containing CSV data into JSON file
* Allows integration with the API endpoint
* API and S3 information added in the utility settings persist even after the utility is restarted
* The information provided in utility settings is encrypted before storage
* AWS integration
* Modern looking desktop utility

## System Requirements
* Visual Studio 2019
* .Net Framework 4.7
* Windows 7 or above
* Access to harddrive for I/O operations

## Technologies Used
* C#
* [MVVM Pattern](https://docs.microsoft.com/en-us/archive/msdn-magazine/2009/february/patterns-wpf-apps-with-the-model-view-viewmodel-design-pattern)
* [WPF](https://docs.microsoft.com/en-us/visualstudio/designers/getting-started-with-wpf?view=vs-2019)
* [MSTest](https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-mstest) for unit testing
* [MahApps.Metro](https://github.com/MahApps/MahApps.Metro) for designing the application
* [Json.NET](https://www.newtonsoft.com/json) for converting the models in to JSON and viceversa
* [AmazonSDK](https://aws.amazon.com/sdk-for-net/) for uploading the images to the S3 bucket from C# code


## Setup Guide
* Clone the project from the repository
* Open the IFCConverto.sln file in Visual Studio 2019
* Right click the solution file in the Solution Explorer window and click 'Clean'
* Right click the solution file in the Solution Explorer window and select 'Restore Nuget Packages'
* Right click the solution file in the Solution Explorer window and select 'Build' or select the 'Debug' option from the top menu. This will compile and run the   application
* Choose the IFC Conversion option from Sidebar Menu for converting the IFC files to the 3D models
* Choose Textfile Processing option from Sidebar Menu for covnerting textfiles in to a JSON file
* Choose the Settings option from the Sidebar Menu for configuring the settings for the application

## Testing
The IFCConverto solution file also contains the Unit test project. To conduct unit tests you need to select IFCConvertoTests1 project and find the relative test class. After that, right click on the class name select the option 'Run Test(s)' to simple run that unit test. If you want to debug then after righ clicking the class name choose the 'Debug Test(s)' option. 
To run all the unit tests at once, the settings should be configured in the application, that is, you need to provide the API endpoint as well as add S3 bucket details. 

*Note:* The endpoint links will need to be updated in the IFCConvertoTests1 project as well to ensure the project runs successfully.

## Release History
### Sprint 2
* 1.0.0 - Feature developement from userstory *ID: 4; Name: Converting IFC files in to the 3D Model* on [branch](https://github.com/ansabkhaliq/IFCConverto/tree/ConvertIFCFileTo3DModels%26ProcessTextfiles)
* 1.0.0 - Feature developement from userstroy *ID: 5; Name: Storing the 3D model generated by utility* on [branch](https://github.com/ansabkhaliq/IFCConverto/tree/S3UploadingModels)
* 1.0.0 - Feature developement from userstroy *ID: 6; Name: Storing the model meta data* on [branch](https://github.com/ansabkhaliq/IFCConverto/tree/SendingMetaJSONToAPI)
* 1.0.0 - Bugfix at userstory *ID: 4; Name: Converting IFC files in to the 3D Model* on [branch](https://github.com/ansabkhaliq/IFCConverto/tree/AddDestinationFolderCheck)

## Attribution
Created by SQ-Wombat
